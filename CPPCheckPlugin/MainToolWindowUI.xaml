<UserControl x:Class="VSPackage.CPPCheckPlugin.MainToolWindowUI"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">
    <ListView Margin="0" Name="listView" MouseDoubleClick="onProblemDoubleClick" SelectedItem="{Binding selectedItem, UpdateSourceTrigger=PropertyChanged}">
        <ListView.Resources>
            <DataTemplate x:Key="Template">
                <Image Source="{Binding Path=Icon}" Width="24" Height="24"/>
            </DataTemplate>

            <ContextMenu x:Key="ItemContextMenu">
                <MenuItem x:Name="menuItem_suppressThisMessageGlobally"
                    Click="menuItem_suppressThisMessageGlobally"
                    Header="Suppress this message globally">
                </MenuItem>
                <MenuItem x:Name="menuItem_suppressThisMessageProjectOnly"
                    Click="menuItem_suppressThisMessageProjectOnly"
                    Header="Suppress in this project only">
                </MenuItem>
                <MenuItem x:Name="menuItem_suppressThisMessageFileOnly"
                    Click="menuItem_suppressThisMessageFileOnly"
                    Header="Suppress in this project only">
                </MenuItem>
                <MenuItem x:Name="menuItem_suppressThisMessageFileLine"
                    Click="menuItem_suppressThisMessageFileLine"
                    Header="Suppress this specific message (at this file and line)">
                </MenuItem>
                <MenuItem x:Name="menuItem_suppressAllMessagesThisFile"
                    Click="menuItem_suppressAllMessagesThisFile"
                    Header="Suppress all messages in this file">
                </MenuItem>
            </ContextMenu>
        </ListView.Resources>
        <ListView.ItemContainerStyle>
            <Style TargetType="{x:Type ListViewItem}">
                <Setter Property="ContextMenu" Value="{StaticResource ItemContextMenu}"/>
            </Style>
        </ListView.ItemContainerStyle>
        <ListView.View>
            <GridView>
                <GridViewColumn x:Name="SeverityColumn" Header="Severity" CellTemplate="{StaticResource Template}"/>
                <GridViewColumn x:Name="MessageColumn" Header="Message" DisplayMemberBinding="{Binding Message}"/>
            </GridView>
        </ListView.View>
    </ListView>
</UserControl>
